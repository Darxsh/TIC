class ContentLoader{constructor(){this.currentPage=window.location.pathname.split("/").pop().replace(".html","")||"home"}async loadPageContent(){try{const e=await fetch(`/api/content/${this.currentPage}`),n=(await e.json()).reduce(((e,n)=>(e[n.section]||(e[n.section]=[]),e[n.section].push(n),e)),{});Object.entries(n).forEach((([e,n])=>{this.renderSectionContent(e,n)}))}catch(e){console.error("Error loading page content:",e)}}renderSectionContent(e,n){const t=document.getElementById(e);if(t)switch(e){case"hero":this.renderHeroSection(t,n[0]);break;case"club-overview":this.renderClubOverview(t,n[0]);break;case"team-member":this.renderTeamMembers(t,n);break;case"history-timeline":this.renderHistoryTimeline(t,n);break;case"event-hero":this.renderEventHero(t,n[0]);break;case"featured-event":this.renderFeaturedEvents(t,n);break;case"workshop":case"hackathon":case"lecture":case"tech-talk":this.renderEventCards(t,n);break;case"gallery-item":this.renderGalleryItems(t,n);break;case"membership-plan":this.renderMembershipPlans(t,n);break;case"membership-benefit":this.renderMembershipBenefits(t,n);break;case"project-item":this.renderProjectItems(t,n);break;default:this.renderDefaultContent(t,n)}}renderHeroSection(e,n){n&&(e.innerHTML=`\n            <div class="hero-content">\n                <h1>${n.title}</h1>\n                ${n.subtitle?`<p class="subtitle">${n.subtitle}</p>`:""}\n                <p>${n.content}</p>\n            </div>\n            ${n.imageUrl?`<div class="hero-image"><img src="${n.imageUrl}" alt="${n.title}"></div>`:""}\n        `)}renderClubOverview(e,n){n&&(e.innerHTML=`\n            <h2>${n.title}</h2>\n            ${n.subtitle?`<h3>${n.subtitle}</h3>`:""}\n            <div class="overview-content">\n                ${n.content.split("\n").map((e=>`<p>${e}</p>`)).join("")}\n            </div>\n            ${n.imageUrl?`<img src="${n.imageUrl}" alt="${n.title}" class="overview-image">`:""}\n        `)}renderTeamMembers(e,n){e.innerHTML=`\n            <div class="team-grid">\n                ${n.map((e=>`\n                    <div class="team-card">\n                        ${e.imageUrl?`<img src="${e.imageUrl}" alt="${e.title}" class="member-image">`:""}\n                        <h3>${e.title}</h3>\n                        ${e.subtitle?`<h4>${e.subtitle}</h4>`:""}\n                        <p>${e.content}</p>\n                    </div>\n                `)).join("")}\n            </div>\n        `}renderHistoryTimeline(e,n){e.innerHTML=`\n            <div class="timeline">\n                ${n.map(((e,n)=>`\n                    <div class="timeline-item ${n%2==0?"left":"right"}">\n                        <div class="timeline-content">\n                            <h3>${e.title}</h3>\n                            ${e.subtitle?`<div class="timeline-date">${e.subtitle}</div>`:""}\n                            <p>${e.content}</p>\n                        </div>\n                    </div>\n                `)).join("")}\n            </div>\n        `}renderEventHero(e,n){n&&(e.innerHTML=`\n            <div class="event-hero">\n                <h1>${n.title}</h1>\n                ${n.subtitle?`<p class="event-date">${n.subtitle}</p>`:""}\n                <p class="event-description">${n.content}</p>\n                ${n.imageUrl?`<img src="${n.imageUrl}" alt="${n.title}" class="event-hero-image">`:""}\n            </div>\n        `)}renderFeaturedEvents(e,n){e.innerHTML=`\n            <div class="featured-events-slider">\n                ${n.map((e=>`\n                    <div class="featured-event-slide">\n                        ${e.imageUrl?`<img src="${e.imageUrl}" alt="${e.title}" class="event-image">`:""}\n                        <div class="event-info">\n                            <h3>${e.title}</h3>\n                            ${e.subtitle?`<p class="event-date">${e.subtitle}</p>`:""}\n                            <p>${e.content}</p>\n                        </div>\n                    </div>\n                `)).join("")}\n            </div>\n        `,"undefined"!=typeof Swiper&&n.length>1&&new Swiper(".featured-events-slider",{slidesPerView:1,spaceBetween:30,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}})}renderEventCards(e,n){e.innerHTML=`\n            <div class="event-cards">\n                ${n.map((e=>`\n                    <div class="event-card">\n                        ${e.imageUrl?`<img src="${e.imageUrl}" alt="${e.title}" class="event-card-image">`:""}\n                        <div class="event-card-content">\n                            <h3>${e.title}</h3>\n                            ${e.subtitle?`<p class="event-date">${e.subtitle}</p>`:""}\n                            <p>${e.content}</p>\n                        </div>\n                    </div>\n                `)).join("")}\n            </div>\n        `}renderGalleryItems(e,n){e.innerHTML=`\n            <div class="gallery-grid">\n                ${n.map((e=>`\n                    <div class="gallery-item">\n                        <img src="${e.imageUrl}" alt="${e.title}" class="gallery-image">\n                        <div class="gallery-overlay">\n                            <h3>${e.title}</h3>\n                            ${e.subtitle?`<p>${e.subtitle}</p>`:""}\n                        </div>\n                    </div>\n                `)).join("")}\n            </div>\n        `}renderMembershipPlans(e,n){e.innerHTML=`\n            <div class="membership-plans">\n                ${n.map((e=>`\n                    <div class="plan-card">\n                        <h3>${e.title}</h3>\n                        ${e.subtitle?`<div class="price">${e.subtitle}</div>`:""}\n                        <div class="plan-features">\n                            ${e.content.split("\n").map((e=>`<p>${e}</p>`)).join("")}\n                        </div>\n                    </div>\n                `)).join("")}\n            </div>\n        `}renderMembershipBenefits(e,n){e.innerHTML=`\n            <div class="benefits-grid">\n                ${n.map((e=>`\n                    <div class="benefit-card">\n                        ${e.imageUrl?`<img src="${e.imageUrl}" alt="${e.title}" class="benefit-icon">`:""}\n                        <h3>${e.title}</h3>\n                        <p>${e.content}</p>\n                    </div>\n                `)).join("")}\n            </div>\n        `}renderProjectItems(e,n){e.innerHTML=`\n            <div class="projects-grid">\n                ${n.map((e=>`\n                    <div class="project-card">\n                        ${e.imageUrl?`<img src="${e.imageUrl}" alt="${e.title}" class="project-image">`:""}\n                        <div class="project-content">\n                            <h3>${e.title}</h3>\n                            ${e.subtitle?`<p class="project-category">${e.subtitle}</p>`:""}\n                            <p>${e.content}</p>\n                        </div>\n                    </div>\n                `)).join("")}\n            </div>\n        `}renderDefaultContent(e,n){e.innerHTML=n.map((e=>`\n            <div class="content-block">\n                <h3>${e.title}</h3>\n                ${e.subtitle?`<h4>${e.subtitle}</h4>`:""}\n                ${e.imageUrl?`<img src="${e.imageUrl}" alt="${e.title}">`:""}\n                <div class="content-text">${e.content}</div>\n            </div>\n        `)).join("")}}document.addEventListener("DOMContentLoaded",(()=>{(new ContentLoader).loadPageContent()}));