async function loadContent(e){try{const n=await fetch(`/api/content?type=${e}&isActive=true`);if(!n.ok)throw new Error(`Failed to fetch ${e} content`);return(await n.json()).sort(((e,n)=>e.order-n.order))}catch(n){return console.error(`Error loading ${e} content:`,n),[]}}async function updateHeroSection(){const e=await loadContent("hero");if(0===e.length)return;const n=e[0],t=document.querySelector(".hero");if(!t)return;const i=t.querySelector(".hero-content");i&&(i.innerHTML=`\n            <h1>${n.title}</h1>\n            ${n.subtitle?`<p>${n.subtitle}</p>`:""}\n            <p>${n.content}</p>\n            <div class="hero-buttons">\n                <a href="/pages/membership.html" class="btn-primary">Join TIC</a>\n                <a href="/pages/about.html" class="btn-secondary">Learn More</a>\n            </div>\n        `);const a=t.querySelector(".hero-image img");a&&n.image&&(a.src=n.image)}async function updateMissionSection(){const e=await loadContent("mission"),n=document.querySelector(".mission-cards");n&&(n.innerHTML=e.map((e=>`\n        <div class="mission-card animate-fadeInUp">\n            <div class="icon"><i class="fas fa-check"></i></div>\n            <h3>${e.title}:</h3>\n            <p>${e.content}</p>\n        </div>\n    `)).join(""))}async function updateVisionSection(){const e=await loadContent("vision"),n=document.querySelector(".vision-cards");n&&(n.innerHTML=e.map((e=>`\n        <div class="vision-card animate-fadeInUp">\n            <div class="icon"><i class="fas fa-check"></i></div>\n            <h3>${e.content}</h3>\n        </div>\n    `)).join(""))}async function updateAchievements(){const e=await loadContent("achievement"),n=document.querySelector(".achievements .swiper-wrapper");n&&(n.innerHTML=e.map((e=>`\n        <div class="swiper-slide">\n            <div class="achievement-card">\n                ${e.image?`<img src="${e.image}" alt="${e.title}">`:""}\n                <h3>${e.title}</h3>\n                <p>${e.content}</p>\n            </div>\n        </div>\n    `)).join(""),new Swiper(".achievements .swiper",{slidesPerView:"auto",spaceBetween:20,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}}}))}async function updateEvents(){const e=await loadContent("event"),n=document.querySelector(".event-cards");n&&(n.innerHTML=e.map((e=>`\n        <div class="event-card animate-fadeInUp">\n            <div class="event-image">\n                ${e.image?`<img src="${e.image}" alt="${e.title}">`:""}\n            </div>\n            <div class="event-content">\n                <h3>${e.title}</h3>\n                <div class="date"><i class="fas fa-calendar"></i> ${e.subtitle||""}</div>\n                <p>${e.content}</p>\n            </div>\n        </div>\n    `)).join(""))}document.addEventListener("DOMContentLoaded",(async()=>{await Promise.all([updateHeroSection(),updateMissionSection(),updateVisionSection(),updateAchievements(),updateEvents()])}));